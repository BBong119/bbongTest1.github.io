{% assign curPageFileName = page.url | split: '/' | last | replace: '.html', '' %}
{% assign curPathName = page.url | split: currentPageFileName | first %}

{% capture curPageFileNameWithoutVer %}
{% if curPageFileName contains '_v' %}
{{ curPageFileName | split: '_v' | first }}
{% else %}
{{ curPageFileName }}
{% endif %}
{% endcapture %}

<p>{{ curPathName }}</p>

{% for my_page in site.pages %} 
	{% assign tmpPageFileName = my_page.url | split: '/' | last | replace: '.html', '' %}
	<p>{{ tmpPageFileName }}</p>
	{% assign tmpPathName = my_page.url | split: tmpPageFileName | first %}
	<p>{{ tmpPathName }}</p>
	{% if curPathName == tmpPathName %}
		<p>equal {{ my_page.url }}</p>
		{% if tmpPageFileName contains '_v' %}
			{% capture liName %} version {{ tmpPageFileName |  split: '/' | last }} {% endcapture %}
			<li><a href = "{{ my_page.url }}">{{ liName }}</a></li>
		{% else %}
			<li><a href = "{{ my_page.url }}">latest version</a></li>
		{% endif %}
	{% endif %}
{% endfor %}
